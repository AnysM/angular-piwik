"use strict";angular.module("pxmPiwik",[]).config(["$provide","$httpProvider",function(a,b){b.defaults.paramSerializer="$httpParamSerializerJQLike",a.constant("piwikFormat","json"),a.constant("piwikLanguage","en"),a.constant("piwikToken","anonymous"),a.constant("piwikUrl","http://demo.piwik.org/"),a.factory("$piwik",["$http","$httpParamSerializerJQLike","piwikFormat","piwikLanguage","piwikToken","piwikUrl",function(a,b,c,d,e,f){var g={},h={};return g.format=c,g.language=d,g.token=e,g.urlApi=f,g.urlWidget=f,g.call=function(){var a;if(a=1===arguments.length&&angular.isArray(arguments[0][0])?arguments[0]:2===arguments.length&&angular.isString(arguments[0])?[[arguments[0],arguments[1]]]:Array.prototype.slice.call(arguments),!(a.length<1)){if(1===a.length)return h.apiCall(h.methodParams(a[0]));var c={method:"API.getBulkRequest",urls:[]};return angular.forEach(a,function(a){this.push(b(h.methodParams(a)))},c.urls),h.apiCall(c)}},g.widget=function(a,c){return g.urlWidget+(-1===g.urlWidget.indexOf("?")?"?":"&")+b(angular.extend({action:"iframe",actionToWidgetize:a.split(".")[1],disableLink:1,language:g.language,module:"Widgetize",moduleToWidgetize:a.split(".")[0],token_auth:g.token,widget:1},c))},h.apiCall=function(b){return a.get(g.urlApi,{params:angular.extend({format:g.format,module:"API"},b)})},h.methodParams=function(a){return angular.extend({language:g.language,method:a[0],token_auth:g.token},a[1])},g}])}]);